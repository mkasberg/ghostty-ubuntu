name: Build Ghostty Tip (Binary - All)

on:
  workflow_dispatch:
  schedule:
    - cron: '0 1 * * *'

permissions:
  contents: write

concurrency:
  # Multiple merges to main will not cancel.
  group: ${{ github.workflow }}-${{ github.sha }}
  cancel-in-progress: true

jobs:
  build-ghostty:
    name: Build Ghostty Tip Binary Package
    uses: ./.github/workflows/build-binary-tip-reusable.yml
    with:
      build_matrix: |
        [
          {"distro": "ubuntu", "version": "24.04"},
          {"distro": "ubuntu", "version": "25.04"},
          {"distro": "ubuntu", "version": "25.10"},
          {"distro": "debian", "version": "trixie"}
        ]
      arch_matrix: '["amd64", "arm64"]'
      zig_version: "0.15.2"
